
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= movie.title %></title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <%- include('partials/header') %> 

    <h1 class="head_title"><%= movie.title %></h1>

    <div id="movieBox">
        <div id="movieImg">
            <img src="<%= movie.image %>" alt="<%= movie.title %> Poster">
        </div>
        <div id="movieAllDetails">
            <p><strong>Release Year:</strong> <%= movie.releaseYear %></p>
            <p><strong>Genre:</strong> <%= movie.genre %></p>
            <p><strong>Director:</strong> <%= movie.director %></p>
            <p><strong>Rating:</strong>
                <span id="movieStarRating">
                    <% for (let i = 1; i <= 10; i++) { %>
                        <span class="star <%= movie.rating >= i ? 'filled' : '' %>">&#9733;</span>
                    <% } %>
                </span>
            </p>
            <p><strong>Description:</strong> <%= movie.description %></p>
        </div>
    </div>

    <div class="head_title"> 
        <h2>You might like this</h2> 
    </div>
    <div class="recommendations">
        <% if (recommendations.length > 0) { %>
            <div class="recommended-movies">
                <% recommendations.forEach(rec => { %>
                    <div class="movieItem">
                        <img src="<%= rec.image %>" alt="<%= rec.title %> Poster" class="poster">
                        <h2><a href="/movie/<%= rec.id %>" class="movie-title"><%= rec.title %></a></h2>
                        <p><strong><span class="releaseYear">Release Year:</span></strong> <%= rec.releaseYear %></p>
                        <p><strong><span class="releaseYear">Genre:</span></strong> <%= rec.genre %></p>
                        <p><strong><span class="rating">Rating:</span></strong>
                            <span class="star-rating">
                                <% for (let i = 1; i <= 10; i++) { %>
                                    <span class="star <%= rec.rating >= i ? 'filled' : '' %>">&#9733;</span>
                                <% } %>
                            </span>
                        </p>
                    </div>
                <% }) %>
            </div>
        <% } else { %>
            <p>No recommendations available.</p>
        <% } %>
    </div>


</body>
</html>
